{% extends 'frontend/base.html.twig' %}

{% block title %}Enregistrement - SYNACVTCCI{% endblock %}

{% block stylesheet %}
    {{ parent() }}
    <link href="{{ asset('assets/admin/css/app.min.css') }}" type="text/css" rel="stylesheet">
    <style>
        .page-header {
            height: 160px !important;
        }
        .liste-etapes {
            color: #000000;
            font-size: .875rem;
            font-weight: 400;
            line-height: 1.25;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            margin-bottom: 32px;
        }
        .etape {
            background-color: transparent;
            border-radius: 3px;
            padding: 56px 16px 0;
            position: relative;
            width: 272px;
        }
        .etape .icon, .etape .info {
            text-align: center;
            z-index: 2;
        }
        .etape .icon {
            top: 16px;
            left: calc(50% - 16px);
            width: 32px;
            height: 32px;
            border: 2px solid #0701b9;
            border-radius: 50%;
            color: #fff;
            font-size: 1rem;
            font-weight: 700;
            line-height: 28px;
        }
        .etape .icon, .etape .line {
            position: absolute;
            background-color: #0701b9;
        }
        .etape.active .info {
            color: #444;
            font-weight: 700;
        }
        .etape .info {
            color: #b2b2b2;
            font-size: .875rem;
            font-weight: 600;
            line-height: 20px;
        }
        .etape .icon, .etape .info {
            text-align: center;
            z-index: 2;
        }
        .etape.disabled .line {
            background-color: #e0e0e0;
        }
        .etape .icon, .etape .line {
            position: absolute;
            background-color: #0701b9;
        }
        .etape .line {
            top: 31px;
            left: -60px;
            width: 120px;
            height: 2px;
            border-radius: 4px;
            z-index: 1;
        }
        .etape.disabled .icon {
            background-color: transparent;
            color: #b2b2b2;
            border-color: #e0e0e0;
        }
        .etape .icon, .etape .info {
            text-align: center;
            z-index: 2;
        }
        .etape .info {
            color: #b2b2b2;
            font-size: .875rem;
            font-weight: 600;
            line-height: 20px;
        }
        .etape.active .info {
            color: #444;
            font-weight: 700;
        }


        .wizard .steps>ul>li a{
            font-size: 10px;
            font-weight: bolder;
        }
        .form-control {
            padding: 0.275rem 0.55rem;
            font-size: 0.78rem;
        }
        .form-control:focus {
            border-color: none;
            outline: 0;
             box-shadow: none;
        }
        .col-form-label {
            padding-top: calc(0.375rem + 1px);
            padding-bottom: calc(0.375rem + 1px);
            margin-bottom: 0;
            font-size: 0.82rem;
            line-height: 1.5;
        }
        .form-check-label{
            font-size: 0.82rem;
        }

        .form-check-input {
            margin-top: 0.4em;
        }
    </style>
{% endblock %}

{% block body %}

    {{ include('frontend/_partials/header.html.twig') }}

    <section class="page-header">
        <div class="page-header-shape"></div>
        <div class="container">
            <div class="page-header-info">
                <h4>Formulaire</h4>
                <h2>Remplissez le formulaire d'immatriculation</h2>
                <p>Chambre National de Métiers de Côte d'Ivoire </p>
            </div>
        </div>
    </section>

    <div class="taxi-booking bg-grey mb-3">
        <div class="liste-etapes is-clearfix">
            <div class="etape disabled"><!---->
                <div class="icon">1</div> <!---->
                <div class="info">Demande d' immatriculation CNMCI</div>
            </div>
            <div class="etape disabled">
                <div class="line"></div>
                <div class="icon">2</div>
                <div class="info">Information complementaire adhésion SYNACVTCCI</div>
            </div>
            <div class="etape active current">
                <div class="line"></div>
                <div class="icon">3</div> <!---->
                <div class="info">Récapitulatif</div>
            </div>
            <div class="etape disabled">
                <div class="line"></div>
                <div class="icon">4</div> <!---->
                <div class="info">Confirmation</div>
            </div>
        </div>
        <div class="d-flex justify-content-center">
            <div class="col-9">
                <table class="table table-bordered">
                    <tr style="background-color: #0701b9; color:#fff;">
                        <th colspan="2">A. RENSEIGNEMENT SUR L'EXPLOITANT</th>
                    </tr>
                    <tr>
                        <td>
                           <div class="small">
                               <span class="fw-bolder">Nom : &nbsp;</span> <span>{{ artisan.lastName }}</span>
                           </div>
                            <div class="small">
                                <span class="fw-bolder">Prénoms : &nbsp;</span> <span>{{ artisan.firstName }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Né(e) le : &nbsp;</span> <span>{{ artisan.dateOfBirth ? artisan.dateOfBirth|date('Y-m-d') : '' }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">à : &nbsp;</span> <span>{{ artisan.birthCity }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Nationalité : &nbsp;</span> <span>{{ artisan.nationality }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Sexe : &nbsp;</span> <span>{{ artisan.sex }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Domicile : &nbsp;</span> <span>{{ artisan.domicile }}</span>
                            </div>
                        </td>
                        <td>
                            <div class="small">
                                <span class="fw-bolder">Type de document : &nbsp;</span> <span>{{ artisan.IdType }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">N° : &nbsp;</span> <span>{{ artisan.IdNumber }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Délivré le : &nbsp;</span> <span>{{ artisan.IdDeliveryDate ? artisan.IdDeliveryDate|date('Y-m-d') : '' }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Etat civil : &nbsp;</span> <span>{{ artisan.titre }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Telephone : &nbsp;</span> <span>{{ artisan.mobile }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Email : &nbsp;</span> <span>{{ artisan.email }}</span>
                            </div>
                        </td>
                    </tr>
                </table>
                <table class="table table-bordered">
                    <tr style="background-color: #0701b9; color:#fff;">
                        <th colspan="2">B. RENSEIGNEMENT SUR LA FORMATION PROFESSIONNELLE</th>
                    </tr>
                    <tr>
                        <td>
                            <div class="small">
                                <span class="fw-bolder">Niveau d'étude : &nbsp;</span> <span>{{ artisan.formationNiveauEtude }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Précisez la classe (2-3-4) : &nbsp;</span> <span>{{ artisan.formationClass }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Précisez le diplôme obtenu : &nbsp;</span> <span>{{ artisan.formationDiplomeObtenu }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Apprentissage du métier : &nbsp;</span> <span>{{ artisan.formationApprenMetier }}
                            </div>
                        </td>
                        <td>
                            <div class="small">
                                <span class="fw-bolder">Précisez le niveau (2): &nbsp;</span> <span>{{ artisan.formationApprenMetierNiveau }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Précisez le diplôme obtenu : &nbsp;</span> <span>{{ artisan.formationApprenMetierDiplomeObtenu }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Avez-vous un diplôme delivré par la CNMCI : &nbsp;</span> <span>{{ artisan.formationApprenMetierCNMCI ? 'OUI' : 'NON'}}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Lequel ? : &nbsp;</span> <span>{{ artisan.formationApprenMetierTypeCNMCI ? 'OUI' : 'NON' }}</span>
                            </div>
                        </td>
                    </tr>
                </table>
                <table class="table table-bordered">
                    <tr style="background-color: #0701b9; color:#fff;">
                        <th colspan="2">C. RENSEIGNEMENT SUR L'ETABLISSEMENT</th>
                    </tr>
                    <tr>
                        <td>
                            <div class="small">
                                <span class="fw-bolder">Activité principale exercée : &nbsp;</span> <span>{{ artisan.companyMainActivity }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Activité secondaire : &nbsp;</span> <span>{{ artisan.companySecondaryActivity }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Raison social  : &nbsp;</span> <span>{{ artisan.companyName }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Sigle ou Enseigne : &nbsp;</span> <span>{{ artisan.companySigle }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Date de début d'activité : &nbsp;</span> <span>{{ artisan.companyStartingDate ? artisan.companyStartingDate|date('d-m-Y') : '' }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Type de l'entreprise  : &nbsp;</span> <span>{{ artisan.typeCompany }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Regime fiscal : &nbsp;</span> <span>{{ artisan.companyFiscalRegime }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Identifiant CNPS de l'entreprise ou de l'artisan : &nbsp;</span> <span>{{ artisan.identifiantCnps }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">N° Compte contribuable : : &nbsp;</span> <span>{{ artisan.numCompteContribuableEtabl }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Adresse postale : &nbsp;</span> <span>{{ artisan.companyAdressPostal }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Telephone : &nbsp;</span> <span>{{ artisan.companyTel }}</span>
                            </div>
                        </td>
                        <td>

                            <div class="small">
                                <span class="fw-bolder">Fax  : &nbsp;</span> <span>{{ artisan.companyFax }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Adresse géographique : Département : &nbsp;</span> <span>{{ artisan.companyDepartement }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Commune : &nbsp;</span> <span>{{ artisan.companyCommune }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">S/P: &nbsp;</span> <span>{{ artisan.companySp }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Quartier: &nbsp;</span> <span>{{ artisan.companyQuartier }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Village : &nbsp;</span> <span>{{ artisan.companyVillage }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Lot N° : &nbsp;</span> <span>{{ artisan.companyLotNum }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">ILOT N° : &nbsp;</span> <span>{{ artisan.companyILotNum }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Effectif des salariés : </span>
                                <span class="fw-bolder"> &nbsp;{{ artisan.companyTotalMen }}</span> <span>Femmes</span>
                                <span class="fw-bolder"> &nbsp;{{ artisan.companyTotalWomen }}</span> <span>Hommes</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Effectif des apprenants : &nbsp;</span>
                                <span class="fw-bolder"> &nbsp;{{ artisan.companyTotalMenApprentis }}</span> <span>Femmes</span>
                                <span class="fw-bolder"> &nbsp;{{ artisan.companyTotalWomenApprentis }}</span> <span>Hommes</span>
                            </div>
                        </td>
                    </tr>
                </table>
                <table class="table table-bordered">
                    <tr style="background-color: #0701b9; color:#fff;">
                        <th colspan="2">D. RENSEIGNEMENT SUR PERSONNE POUVANT ENGAGER L'ENTREPRISE</th>
                    </tr>
                    <tr>
                        <td>
                            <div class="small">
                                <span class="fw-bolder">Nom : &nbsp;</span> <span>{{ artisan.reprLastName }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Prénoms : &nbsp;</span> <span>{{ artisan.reprFirstName }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Né(e) le : &nbsp;</span> <span>{{ artisan.reprDateNais ? artisan.reprDateNais|date('Y-m-d') : '' }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">à : &nbsp;</span> <span>{{ artisan.reprLieuNais }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Nationalité : &nbsp;</span> <span>{{ artisan.reprNationality }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Sexe : &nbsp;</span> <span>{{ artisan.reprSex }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Domicile : &nbsp;</span> <span>{{ artisan.reprDomicile }}</span>
                            </div>
                        </td>
                        <td>
                            <div class="small">
                                <span class="fw-bolder">Type de document : &nbsp;</span> <span>{{ artisan.reprIDType }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">N° : &nbsp;</span> <span>{{ artisan.reprIDNum }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Délivré le : &nbsp;</span> <span>{{ artisan.reprIDDeliveryDate ? artisan.reprIDDeliveryDate|date('Y-m-d') : '' }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">à : &nbsp;</span> <span> {{ artisan.reprIDDeliveryPlace }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Etat civil : &nbsp;</span> <span>{{ artisan.reprEtatCivil }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Telephone : &nbsp;</span> <span>{{ artisan.reprTel }}</span>
                            </div>
                            <div class="small">
                                <span class="fw-bolder">Email : &nbsp;</span> <span>{{ artisan.reprEmail }}</span>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row mb-5">
            <div class="row justify-content-center py-3">
                <button type="button" class="default-btn w-25" id="save">Enregistrer</button>
            </div>
        </div>
    </div>

    {{ include('frontend/_partials/footer.html.twig') }}
{% endblock %}

{% block javascript %}
  {{ parent() }}
  <script src="{{ asset('assets/admin/libs/jquery-steps/build/jquery.steps.min.js') }}"></script>
  <script>
      $('document').ready(function() {
          $('#save').click(function(){
              $.get("{{ path('ajax_register_artisan', {step: 3}) }}", function(data){
                    window.location.href = "{{ path('register_artisan', {step: 4}) }}";
              });

          });
      });
  </script>
{% endblock %}
